# Git Command

## git init

Git에게 "이 디렉토리에서 작업을 하겠다" 라고 알려주는 것

## git status

현재 상태에 대해서 알려준다

만약에 새로운 파일이 생성되었다면 `git status` 명령어를 입력하면 Untracked files로 분류가 된다.

## git add (파일명)

해당 파일을 Tracked 상태로 바꿔준다. 이때부터 `commit`이 가능하게 된다.

## git commit

변경 사항들을 커밋하는 명령어로 `git commit`를 하게되면 vim이 실행된다

이때 커밋을 설명하는 `commit message`를 작성할 수 있다.

## git log

저장소의 커밋 이력을 보여준다

내용은 커밋 날짜, 커밋 아이디, 커밋한 사람의 정보를 알려준다

## git diff (commit id)...(commit id2)

두 커밋의 차이에 대해서 출력이 된다.

## git reset (돌아가길 원하는 시점의 커밋 아이디)

커밋 이력을 되돌린다.

해당 명령어에 대한 여러 옵션이 있다

주의사항으로는 push를 한 후에는 reset을 하면 안된다.

## git revert (취소할 시점의 커밋 아이디)

revert는 reset과 유사한데

reset : 해당 시점으로 돌아가기

revert : 해당 시점을 삭제하고 새 버전을 생성

# Git의 원리

## git add

git이 바라보고 있는 디렉토리에서 파일을 수정하고 git add 명령어를 통해서 commit을 위한 Tracked 상태로 변경할 수 있다.

이 때, add 명령어를 입력하는 순간 .git 디렉토리에서 몇가지 변화가 발생한다.

1. objects 디렉토리에서 a라는 폴더에서 b라는 파일이 생성된다.
2. 이 때, b라는 파일 안에는 수정한 파일 내용이 담겨있다.
3. index 파일에는 b라는 파일이 있는 위치를 가르키고 있다.

### 만약에 수정한 파일을 복사해서 내용은 똑같고 파일 이름만 다른 c를 하나 더 만들면 어떻게 될까?

이 때 index 파일은 b와 c가 objects 폴더 내에서 같은 파일을 통해 관리가 되어지고 있다.

한마디로 같은 내용을 가지면 하나의 파일로 관리를 하면서 중복을 피하면서 효율성을 높이고 있다.

이렇게 git은 파일 내용을 압축하고 암호화 하는 과정을 통해서 폴더 이름과 파일 이름을 설정한다.
(혹시 폴더명도 영향을 주는지 궁금해서 시도해봤지만, 결과는 내용만 같으면 같은 이름을 갖는다)

## git commit

commit을 하면 정보가 objects 디렉토리에 저장되게 된다.

트리, 작성한 사람, 커밋한 사람의 정보가 담기게 된다.

이후 커밋을 한 번 더 하면 `parent`에 대한 정보가 담기게 되는데 이 정보는 이 전에 커밋한 내용에 대한 정보를 담고 있다.

### tree

트리 안에는 해당 커밋에서 존재하는 blob들의 정보가 담겨있다.

> blob : 파일의 내용을 담고 있음

그러므로 커밋마다 트리를 확인하면서 해당 커밋의 파일 정보를 얻을 수 있게 되는 것이다.
